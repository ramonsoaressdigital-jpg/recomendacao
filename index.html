<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <div class="header">
    <title>MVP â€¢ RecomendaÃ§Ã£o AgronÃ´mica</title>
  </div>

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <h1>ğŸ§ª MVP â€¢ RecomendaÃ§Ã£o AgronÃ´mica</h1>

  <!-- 1ï¸âƒ£ Importar Laudo -->
  <section id="import-section" class="card">
    <h2>1ï¸âƒ£ Importar Laudo (CSV)</h2>
    <input id="fileInput" type="file" accept=".csv,text/csv" />
    <button id="btnImportCSV" class="btn">ğŸ“¥ Importar</button>
    <div id="csvTableWrap" class="tableWrap"></div>
  </section>

  <!-- 2ï¸âƒ£ Produtos -->
  <section id="product-section" class="card">
    <h2>2ï¸âƒ£ Produtos</h2>
    <!-- O formulÃ¡rio serÃ¡ injetado aqui -->
    <div id="productFormWrap"></div>

    <!-- Tabela de produtos fica fora do container que o renderForm() sobrescreve -->
    <div id="prodTableWrap" class="tableWrap" style="margin-top:16px"></div>
  </section>

  <section id="formulas-panel" class="card"></section>


  <!-- 5ï¸âƒ£ Executar RecomendaÃ§Ãµes -->
  <section id="recommendation-section" class="card">
    <h2>4ï¸âƒ£ Executar RecomendaÃ§Ãµes</h2>
    <div class="controls">
      <button id="run-all" class="btn">ğŸš€ Executar RecomendaÃ§Ãµes</button>
      <button id="clear-results" class="btn">ğŸ§¹ Limpar Resultados</button>
    </div>
    <div id="resultados" class="tableWrap">
      <p style="color:var(--muted)">Nenhuma recomendaÃ§Ã£o executada ainda.</p>
    </div>
  </section>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const h1 = document.querySelector('h1');
      if (!h1) return;
      const img = document.createElement('img');
      img.src = './data/semear.png';
      img.alt = 'Semear';
      img.className = 'semear-logo';
      h1.prepend(img);
    });
  </script>


<script src="js/formula-engine.js"></script>
<script src="js/csv-reader.js"></script>
<script src="js/product-crud.js"></script>

<script type="module" src="js/seed-defaults.js"></script>
<script type="module" src="js/recommendation-engine.js"></script>

<!-- â¬‡ï¸ novo: auto-carrega o CSV padrÃ£o -->
<script type="module" src="js/auto-load-csv.js"></script>

<script type="module" src="js/data-store.js"></script>
<script type="module" src="js/main.js"></script>
</body>

</html>